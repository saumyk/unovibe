<div class="card-float card-float-1"></div>
<div class="card-float card-float-2"></div>
<div class="card-float card-float-3"></div>
<div class="card-float card-float-4"></div>
</div>

<!-- Main Menu Screen -->
<div class="menu-screen" id="menu-screen">
    <div class="menu-container">
        <div class="logo-container">
            <h1 class="game-logo">
                <span class="logo-letter logo-u">U</span>
                <span class="logo-letter logo-n">N</span>
                <span class="logo-letter logo-o">O</span>
            </h1>
            <p class="logo-subtitle">Multiplayer Card Game</p>
        </div>

        <div class="menu-options">
            <button class="menu-btn menu-btn-create" id="create-room-btn">
                <span class="btn-icon">üéÆ</span>
                <span class="btn-text">Create Room</span>
            </button>
            <button class="menu-btn menu-btn-join" id="join-room-btn">
                <span class="btn-icon">üö™</span>
                <span class="btn-text">Join Room</span>
            </button>
            <button class="menu-btn menu-btn-rules" id="rules-btn">
                <span class="btn-icon">üìñ</span>
                <span class="btn-text">Game Rules</span>
            </button>
        </div>
    </div>
</div>

<!-- Create Room Modal -->
<div class="modal" id="create-room-modal">
    <div class="modal-content">
        <button class="modal-close" id="close-create-modal">√ó</button>
        <h2 class="modal-title">Create Game Room</h2>
        <div class="form-group">
            <label for="room-name">Room Name</label>
            <input type="text" id="room-name" placeholder="Enter room name" maxlength="20">
        </div>
        <div class="form-group">
            <label for="player-name-create">Your Name</label>
            <input type="text" id="player-name-create" placeholder="Enter your name" maxlength="15">
        </div>
        <div class="form-group">
            <label for="room-password">Password (Optional)</label>
            <input type="password" id="room-password" placeholder="Leave empty for no password" maxlength="20">
        </div>
        <div class="form-group">
            <label for="max-players">Max Players</label>
            <select id="max-players">
                <option value="2">2 Players</option>
                <option value="3">3 Players</option>
                <option value="4" selected>4 Players</option>
                <option value="5">5 Players</option>
                <option value="6">6 Players</option>
            </select>
        </div>
        <button class="modal-btn" id="confirm-create-room">Create Room</button>
    </div>
</div>

<!-- Join Room Modal -->
<div class="modal" id="join-room-modal">
    <div class="modal-content">
        <button class="modal-close" id="close-join-modal">√ó</button>
        <h2 class="modal-title">Join Game Room</h2>
        <div class="form-group">
            <label for="join-room-id">Room ID</label>
            <input type="text" id="join-room-id" placeholder="Enter 6-digit room ID" maxlength="6">
        </div>
        <div class="form-group">
            <label for="player-name-join">Your Name</label>
            <input type="text" id="player-name-join" placeholder="Enter your name" maxlength="15">
        </div>
        <div class="form-group">
            <label for="join-room-password">Password (if required)</label>
            <input type="password" id="join-room-password" placeholder="Enter room password">
        </div>
        <button class="modal-btn" id="confirm-join-room">Join Room</button>
    </div>
</div>

<!-- Rules Modal -->
<div class="modal" id="rules-modal">
    <div class="modal-content modal-content-large">
        <button class="modal-close" id="close-rules-modal">√ó</button>
        <h2 class="modal-title">Official UNO Rules</h2>
        <div class="rules-content">
            <div class="rule-section">
                <h3>üéØ Objective</h3>
                <p>Be the first player to get rid of all your cards!</p>
            </div>
            <div class="rule-section">
                <h3>üÉè Card Types</h3>
                <ul>
                    <li><strong>Number Cards (0-9):</strong> Match by color or number</li>
                    <li><strong>Skip:</strong> Next player loses their turn</li>
                    <li><strong>Reverse:</strong> Reverses the direction of play</li>
                    <li><strong>Draw Two (+2):</strong> Next player draws 2 cards and loses turn</li>
                    <li><strong>Wild:</strong> Change the current color</li>
                    <li><strong>Wild Draw Four (+4):</strong> Change color, next player draws 4 cards</li>
                </ul>
            </div>
            <div class="rule-section">
                <h3>üéÆ How to Play</h3>
                <ol>
                    <li>Each player starts with 7 cards</li>
                    <li>Match the top card by color, number, or symbol</li>
                    <li>If you can't play, draw a card from the deck</li>
                    <li>If the drawn card can be played, you may play it immediately</li>
                    <li>When you have one card left, click the "UNO" button!</li>
                    <li>If you forget to call UNO, you must draw 2 penalty cards</li>
                </ol>
            </div>
            <div class="rule-section">
                <h3>‚ö° Special Rules</h3>
                <ul>
                    <li><strong>Stacking:</strong> +2 cards can be stacked on +2 cards</li>
                    <li><strong>Jump-In:</strong> If you have the exact same card, you can play it out of turn</li>
                    <li><strong>Challenge:</strong> Challenge a Wild +4 if you think the player had a playable card
                    </li>
                    <li><strong>7-0 Rule:</strong> Playing a 7 lets you swap hands with another player</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Lobby Screen -->
<div class="lobby-screen hidden" id="lobby-screen">
    <div class="lobby-container">
        <h2 class="lobby-title">Game Lobby</h2>
        <div class="room-info">
            <div class="info-item">
                <span class="info-label">Room ID:</span>
                <span class="info-value" id="lobby-room-id">------</span>
                <button class="copy-btn" id="copy-room-id">üìã Copy</button>
            </div>
            <div class="info-item">
                <span class="info-label">Room Name:</span>
                <span class="info-value" id="lobby-room-name">------</span>
            </div>
        </div>
        <div class="players-list" id="players-list">
            <!-- Players will be added here -->
        </div>
        <div class="lobby-actions">
            <button class="lobby-btn lobby-btn-start" id="start-game-btn">Start Game</button>
            <button class="lobby-btn lobby-btn-leave" id="leave-room-btn">Leave Room</button>
        </div>
        <div class="invite-section">
            <p class="invite-text">Share this link with friends:</p>
            <div class="invite-link-container">
                <input type="text" class="invite-link" id="invite-link" readonly>
                <button class="copy-btn" id="copy-invite-link">Copy Link</button>
            </div>
        </div>
    </div>
</div>

<!-- Game Screen -->
<div class="game-screen hidden" id="game-screen">
    <div class="game-container">
        <!-- Game Header -->
        <header class="game-header">
            <div class="header-left">
                <h1 class="game-title-small">UNO</h1>
                <div class="room-id-display">
                    <span>Room: <strong id="game-room-id">------</strong></span>
                </div>
            </div>
            <div class="header-center">
                <div class="turn-indicator" id="turn-indicator">
                    <span class="turn-text">Current Turn:</span>
                    <span class="turn-player" id="current-turn-player">Player 1</span>
                </div>
            </div>
            <div class="header-right">
                <div class="game-stats">
                    <div class="stat-item">
                        <span class="stat-label">Deck</span>
                        <span class="stat-value" id="deck-count">108</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Your Cards</span>
                        <span class="stat-value" id="hand-count">7</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Other Players Display -->
        <div class="other-players" id="other-players">
            <!-- Other players will be shown here -->
        </div>

        <!-- Game Board -->
        <div class="game-board">
            <!-- Deck -->
            <div class="deck-container">
                <div class="deck" id="deck">
                    <div class="card-3d card-back"></div>
                    <div class="card-3d card-back offset-1"></div>
                    <div class="card-3d card-back offset-2"></div>
                </div>
                <p class="deck-label">Draw Card</p>
            </div>

            <!-- Discard Pile -->
            <div class="discard-container">
                <div class="discard-pile" id="discard-pile">
                    <div class="card-3d" id="current-card"></div>
                </div>
                <p class="deck-label">Current Card</p>
                <div class="current-color-indicator" id="current-color-indicator"></div>
            </div>

            <!-- Direction Indicator -->
            <div class="direction-indicator" id="direction-indicator">
                <span class="direction-arrow">‚Üª</span>
            </div>
        </div>

        <!-- Player Hand -->
        <div class="player-hand-container">
            <div class="hand-header">
                <span class="hand-title">Your Hand</span>
                <button class="uno-button" id="uno-button">
                    <span class="uno-text">UNO!</span>
                </button>
            </div>
            <div class="player-hand" id="player-hand">
                <!-- Cards will be added here -->
            </div>
        </div>

        <!-- Color Picker Modal -->
        <div class="color-picker-modal" id="color-picker">
            <div class="color-picker-content">
                <h2>Choose a Color</h2>
                <div class="color-options">
                    <button class="color-btn color-red" data-color="red">
                        <span class="color-name">Red</span>
                    </button>
                    <button class="color-btn color-yellow" data-color="yellow">
                        <span class="color-name">Yellow</span>
                    </button>
                    <button class="color-btn color-green" data-color="green">
                        <span class="color-name">Green</span>
                    </button>
                    <button class="color-btn color-blue" data-color="blue">
                        <span class="color-name">Blue</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="modal" id="join-room-modal">
            <div class="modal-content">
                <button class="modal-close" id="close-join-modal">√ó</button>
                <h2 class="modal-title">Join Game Room</h2>
                <div class="form-group">
                    <label for="join-room-id">Room ID</label>
                    <input type="text" id="join-room-id" placeholder="Enter 6-digit room ID" maxlength="6">
                </div>
                <div class="form-group">
                    <label for="player-name-join">Your Name</label>
                    <input type="text" id="player-name-join" placeholder="Enter your name" maxlength="15">
                </div>
                <div class="form-group">
                    <label for="join-room-password">Password (if required)</label>
                    <input type="password" id="join-room-password" placeholder="Enter room password">
                </div>
                <button class="modal-btn" id="confirm-join-room">Join Room</button>
            </div>
        </div>

        <!-- Rules Modal -->
        <div class="modal" id="rules-modal">
            <div class="modal-content modal-content-large">
                <button class="modal-close" id="close-rules-modal">√ó</button>
                <h2 class="modal-title">Official UNO Rules</h2>
                <div class="rules-content">
                    <div class="rule-section">
                        <h3>üéØ Objective</h3>
                        <p>Be the first player to get rid of all your cards!</p>
                    </div>
                    <div class="rule-section">
                        <h3>üÉè Card Types</h3>
                        <ul>
                            <li><strong>Number Cards (0-9):</strong> Match by color or number</li>
                            <li><strong>Skip:</strong> Next player loses their turn</li>
                            <li><strong>Reverse:</strong> Reverses the direction of play</li>
                            <li><strong>Draw Two (+2):</strong> Next player draws 2 cards and loses turn</li>
                            <li><strong>Wild:</strong> Change the current color</li>
                            <li><strong>Wild Draw Four (+4):</strong> Change color, next player draws 4 cards</li>
                        </ul>
                    </div>
                    <div class="rule-section">
                        <h3>üéÆ How to Play</h3>
                        <ol>
                            <li>Each player starts with 7 cards</li>
                            <li>Match the top card by color, number, or symbol</li>
                            <li>If you can't play, draw a card from the deck</li>
                            <li>If the drawn card can be played, you may play it immediately</li>
                            <li>When you have one card left, click the "UNO" button!</li>
                            <li>If you forget to call UNO, you must draw 2 penalty cards</li>
                        </ol>
                    </div>
                    <div class="rule-section">
                        <h3>‚ö° Special Rules</h3>
                        <ul>
                            <li><strong>Stacking:</strong> +2 cards can be stacked on +2 cards</li>
                            <li><strong>Jump-In:</strong> If you have the exact same card, you can play it out of
                                turn</li>
                            <li><strong>Challenge:</strong> Challenge a Wild +4 if you think the player had a
                                playable card
                            </li>
                            <li><strong>7-0 Rule:</strong> Playing a 7 lets you swap hands with another player</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lobby Screen -->
        <div class="lobby-screen hidden" id="lobby-screen">
            <div class="lobby-container">
                <h2 class="lobby-title">Game Lobby</h2>
                <div class="room-info">
                    <div class="info-item">
                        <span class="info-label">Room ID:</span>
                        <span class="info-value" id="lobby-room-id">------</span>
                        <button class="copy-btn" id="copy-room-id">üìã Copy</button>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Room Name:</span>
                        <span class="info-value" id="lobby-room-name">------</span>
                    </div>
                </div>
                <div class="players-list" id="players-list">
                    <!-- Players will be added here -->
                </div>
                <div class="lobby-actions">
                    <button class="lobby-btn lobby-btn-start" id="start-game-btn">Start Game</button>
                    <button class="lobby-btn lobby-btn-leave" id="leave-room-btn">Leave Room</button>
                </div>
                <div class="invite-section">
                    <p class="invite-text">Share this link with friends:</p>
                    <div class="invite-link-container">
                        <input type="text" class="invite-link" id="invite-link" readonly>
                        <button class="copy-btn" id="copy-invite-link">Copy Link</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="game-screen hidden" id="game-screen">
            <div class="game-container">
                <!-- Game Header -->
                <header class="game-header">
                    <div class="header-left">
                        <h1 class="game-title-small">UNO</h1>
                        <div class="room-id-display">
                            <span>Room: <strong id="game-room-id">------</strong></span>
                        </div>
                    </div>
                    <div class="header-center">
                        <div class="turn-indicator" id="turn-indicator">
                            <span class="turn-text">Current Turn:</span>
                            <span class="turn-player" id="current-turn-player">Player 1</span>
                        </div>
                    </div>
                    <div class="header-right">
                        <div class="game-stats">
                            <div class="stat-item">
                                <span class="stat-label">Deck</span>
                                <span class="stat-value" id="deck-count">108</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Your Cards</span>
                                <span class="stat-value" id="hand-count">7</span>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Other Players Display -->
                <div class="other-players" id="other-players">
                    <!-- Other players will be shown here -->
                </div>

                <!-- Game Board -->
                <div class="game-board">
                    <!-- Deck -->
                    <div class="deck-container">
                        <div class="deck" id="deck">
                            <div class="card-3d card-back"></div>
                            <div class="card-3d card-back offset-1"></div>
                            <div class="card-3d card-back offset-2"></div>
                        </div>
                        <p class="deck-label">Draw Card</p>
                    </div>

                    <!-- Discard Pile -->
                    <div class="discard-container">
                        <div class="discard-pile" id="discard-pile">
                            <div class="card-3d" id="current-card"></div>
                        </div>
                        <p class="deck-label">Current Card</p>
                        <div class="current-color-indicator" id="current-color-indicator"></div>
                    </div>

                    <!-- Direction Indicator -->
                    <div class="direction-indicator" id="direction-indicator">
                        <span class="direction-arrow">‚Üª</span>
                    </div>
                </div>

                <!-- Player Hand -->
                <div class="player-hand-container">
                    <div class="hand-header">
                        <span class="hand-title">Your Hand</span>
                        <button class="uno-button" id="uno-button">
                            <span class="uno-text">UNO!</span>
                        </button>
                    </div>
                    <div class="player-hand" id="player-hand">
                        <!-- Cards will be added here -->
                    </div>
                </div>

                <!-- Color Picker Modal -->
                <div class="color-picker-modal" id="color-picker">
                    <div class="color-picker-content">
                        <h2>Choose a Color</h2>
                        <div class="color-options">
                            <button class="color-btn color-red" data-color="red">
                                <span class="color-name">Red</span>
                            </button>
                            <button class="color-btn color-yellow" data-color="yellow">
                                <span class="color-name">Yellow</span>
                            </button>
                            <button class="color-btn color-green" data-color="green">
                                <span class="color-name">Green</span>
                            </button>
                            <button class="color-btn color-blue" data-color="blue">
                                <span class="color-name">Blue</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Game Messages -->
                <div class="game-message" id="game-message"></div>
            </div>
        </div>
        ```
        <input type="text" id="join-room-id" placeholder="Enter 6-digit room ID" maxlength="6">
    </div>
    <div class="form-group">
        <label for="player-name-join">Your Name</label>
        <input type="text" id="player-name-join" placeholder="Enter your name" maxlength="15">
    </div>
    <div class="form-group">
        <label for="join-room-password">Password (if required)</label>
        <input type="password" id="join-room-password" placeholder="Enter room password">
    </div>
    <button class="modal-btn" id="confirm-join-room">Join Room</button>
</div>
</div>

<!-- Rules Modal -->
<div class="modal" id="rules-modal">
    <div class="modal-content modal-content-large">
        <button class="modal-close" id="close-rules-modal">√ó</button>
        <h2 class="modal-title">Official UNO Rules</h2>
        <div class="rules-content">
            <div class="rule-section">
                <h3>üéØ Objective</h3>
                <p>Be the first player to get rid of all your cards!</p>
            </div>
            <div class="rule-section">
                <h3>üÉè Card Types</h3>
                <ul>
                    <li><strong>Number Cards (0-9):</strong> Match by color or number</li>
                    <li><strong>Skip:</strong> Next player loses their turn</li>
                    <li><strong>Reverse:</strong> Reverses the direction of play</li>
                    <li><strong>Draw Two (+2):</strong> Next player draws 2 cards and loses turn</li>
                    <li><strong>Wild:</strong> Change the current color</li>
                    <li><strong>Wild Draw Four (+4):</strong> Change color, next player draws 4 cards</li>
                </ul>
            </div>
            <div class="rule-section">
                <h3>üéÆ How to Play</h3>
                <ol>
                    <li>Each player starts with 7 cards</li>
                    <li>Match the top card by color, number, or symbol</li>
                    <li>If you can't play, draw a card from the deck</li>
                    <li>If the drawn card can be played, you may play it immediately</li>
                    <li>When you have one card left, click the "UNO" button!</li>
                    <li>If you forget to call UNO, you must draw 2 penalty cards</li>
                </ol>
            </div>
            <div class="rule-section">
                <h3>‚ö° Special Rules</h3>
                <ul>
                    <li><strong>Stacking:</strong> +2 cards can be stacked on +2 cards</li>
                    <li><strong>Jump-In:</strong> If you have the exact same card, you can play it out of
                        turn</li>
                    <li><strong>Challenge:</strong> Challenge a Wild +4 if you think the player had a
                        playable card
                    </li>
                    <li><strong>7-0 Rule:</strong> Playing a 7 lets you swap hands with another player</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- Lobby Screen -->
<div class="lobby-screen hidden" id="lobby-screen">
    <div class="lobby-container">
        <h2 class="lobby-title">Game Lobby</h2>
        <div class="room-info">
            <div class="info-item">
                <span class="info-label">Room ID:</span>
                <span class="info-value" id="lobby-room-id">------</span>
                <button class="copy-btn" id="copy-room-id">üìã Copy</button>
            </div>
            <div class="info-item">
                <span class="info-label">Room Name:</span>
                <span class="info-value" id="lobby-room-name">------</span>
            </div>
        </div>
        <div class="players-list" id="players-list">
            <!-- Players will be added here -->
        </div>
        <div class="lobby-actions">
            <button class="lobby-btn lobby-btn-start" id="start-game-btn">Start Game</button>
            <button class="lobby-btn lobby-btn-leave" id="leave-room-btn">Leave Room</button>
        </div>
        <div class="invite-section">
            <p class="invite-text">Share this link with friends:</p>
            <div class="invite-link-container">
                <input type="text" class="invite-link" id="invite-link" readonly>
                <button class="copy-btn" id="copy-invite-link">Copy Link</button>
            </div>
        </div>
    </div>
</div>

<!-- Game Screen -->
<div class="game-screen hidden" id="game-screen">
    <div class="game-container">
        <!-- Game Header -->
        <header class="game-header">
            <div class="header-left">
                <h1 class="game-title-small">UNO</h1>
                <div class="room-id-display">
                    <span>Room: <strong id="game-room-id">------</strong></span>
                </div>
            </div>
            <div class="header-center">
                <div class="turn-indicator" id="turn-indicator">
                    <span class="turn-text">Current Turn:</span>
                    <span class="turn-player" id="current-turn-player">Player 1</span>
                </div>
            </div>
            <div class="header-right">
                <div class="game-stats">
                    <div class="stat-item">
                        <span class="stat-label">Deck</span>
                        <span class="stat-value" id="deck-count">108</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Your Cards</span>
                        <span class="stat-value" id="hand-count">7</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Other Players Display -->
        <div class="other-players" id="other-players">
            <!-- Other players will be shown here -->
        </div>

        <!-- Game Board -->
        <div class="game-board">
            <!-- Deck -->
            <div class="deck-container">
                <div class="deck" id="deck">
                    <div class="card-3d card-back"></div>
                    <div class="card-3d card-back offset-1"></div>
                    <div class="card-3d card-back offset-2"></div>
                </div>
                <p class="deck-label">Draw Card</p>
            </div>

            <!-- Discard Pile -->
            <div class="discard-container">
                <div class="discard-pile" id="discard-pile">
                    <div class="card-3d" id="current-card"></div>
                </div>
                <p class="deck-label">Current Card</p>
                <div class="current-color-indicator" id="current-color-indicator"></div>
            </div>

            <!-- Direction Indicator -->
            <div class="direction-indicator" id="direction-indicator">
                <span class="direction-arrow">‚Üª</span>
            </div>
        </div>

        <!-- Player Hand -->
        <div class="player-hand-container">
            <div class="hand-header">
                <span class="hand-title">Your Hand</span>
                <button class="uno-button" id="uno-button">
                    <span class="uno-text">UNO!</span>
                </button>
            </div>
            <div class="player-hand" id="player-hand">
                <!-- Cards will be added here -->
            </div>
        </div>

        <!-- Color Picker Modal -->
        <div class="color-picker-modal" id="color-picker">
            <div class="color-picker-content">
                <h2>Choose a Color</h2>
                <div class="color-options">
                    <button class="color-btn color-red" data-color="red">
                        <span class="color-name">Red</span>
                    </button>
                    <button class="color-btn color-yellow" data-color="yellow">
                        <span class="color-name">Yellow</span>
                    </button>
                    <button class="color-btn color-green" data-color="green">
                        <span class="color-name">Green</span>
                    </button>
                    <button class="color-btn color-blue" data-color="blue">
                        <span class="color-name">Blue</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Game Messages -->
        <div class="game-message" id="game-message"></div>
    </div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

<!-- Firebase Configuration -->
<script src="firebase-config.js"></script>

<!-- Firebase Multiplayer Integration -->
<script src="firebase-multiplayer.js"></script>

<!-- Game Logic -->
<script src="game.js"></script>
</body>

</html>
```